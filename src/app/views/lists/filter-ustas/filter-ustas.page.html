<ion-header no-border>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button icon-only  (click)="cancel()">
        <ion-icon name="arrow-back" color="light"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title text-center>فلترة النتائج</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content padding>
<ion-grid fixed>
  <ion-row>
    <ion-col size="12">
            <ion-label text-center color="primary">
              <h2>المحافظة</h2>
            </ion-label>
    </ion-col>
    <ion-col size="12">
        <ion-select cancelText="إلغاء" [(ngModel)]="filtered_country" (ionChange)="onSelectChange($event)" [interfaceOptions]="customActionSheetOptions" interface="action-sheet" >
            <ion-select-option  value="{{country.id}}"    *ngFor="let country of countries">{{country.country}}</ion-select-option>
            </ion-select>
    </ion-col>
  </ion-row>
</ion-grid>
<br/>
<ion-grid fixed>
  <ion-row>
    <ion-col size="12">
        <ion-label text-center color="primary">
            <h4>البلدية</h4>
          </ion-label>
    </ion-col>
    <ion-col size="12">
        <ionic-selectable [disabled]="!filtered_country"  [(ngModel)]="filtered_city" [items]="cities" itemValueField="id"
        itemTextField="title_ar" [canSearch]="true" headerColor="primary">
        <ng-template ionicSelectableCloseButtonTemplate>
            <ion-icon name="arrow-back" color='light'></ion-icon>            
          </ng-template>
          <ng-template ionicSelectableTitleTemplate>
              <ion-title text-center>البلديات</ion-title>
            </ng-template>
      </ionic-selectable>
    </ion-col>
  </ion-row>
</ion-grid>
<br/>
<ion-grid fixed>
  <ion-row>
    <ion-col size="12">
        <ion-label text-center color="primary">
            <h4>التخصص</h4>
          </ion-label>
    </ion-col>
    <ion-col size="12">
        <ionic-selectable [(ngModel)]="filtered_subSection" [items]="subSections" itemValueField="id"
        itemTextField="title" headerColor="primary">
        <ng-template ionicSelectableCloseButtonTemplate>
            <ion-icon name="arrow-back" color='light'></ion-icon>            
          </ng-template>
          <ng-template ionicSelectableTitleTemplate>
              <ion-title text-center>التخصص</ion-title>
            </ng-template>
      </ionic-selectable>
    </ion-col>
  </ion-row>
</ion-grid>
</ion-content>
<ion-footer>
      <ion-grid>
          <ion-row>
            <ion-col>
              <ion-button expand="block" fill="outline" color="medium" (click)="cancelFilter()"> إلغاء الفلترة</ion-button>
            </ion-col>
            <ion-col>
              <ion-button expand="block" fill="outline" color="primary" (click)="filter()">تطبيق</ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
</ion-footer>